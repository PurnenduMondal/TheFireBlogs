{"version":3,"sources":["components/axiosWithBaseURL.jsx","components/BlogPost.jsx","components/myidb.js"],"names":["axios","create","baseURL","BlogPost","useState","items","setItems","id","useParams","React","useEffect","post","blogid","then","res","data","set","JSON","stringify","catch","err","get","x","parse","className","length","map","item","index","width","height","src","img","alt","name","auther","Parser","body","role","dbPromise","openDB","upgrade","db","createObjectStore","key","a","val","put"],"mappings":"8IAAA,qBACeA,QAAMC,OAAO,CACxBC,QAAQ,2B,mICgEGC,UAzDf,WAEI,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACOC,EAAMC,cAAND,GA8BP,OA7BAE,IAAMC,WAAU,WACZV,IAAMW,KAAK,YAAa,CAACC,OAASL,IACjCM,MAAK,SAAAC,GACJR,EAASQ,EAAIC,MAOXC,YAAIT,EAAGU,KAAKC,UAAUJ,EAAIC,UAGzBI,OAAM,SAAAC,GACPC,YAAId,GAAIM,MAAK,SAACE,GACV,IAAIO,EAAIL,KAAKM,MAAMR,GACnBT,EAASgB,WAGlB,IAWH,qBAAKE,UAAU,WAAf,SACKnB,EAAMoB,OAAS,EAAKpB,EAAMqB,KAAI,SAACC,EAAMC,GAClC,OAEI,sBAAKJ,UAAU,GAAf,UACI,sBAAKA,UAAY,aAAjB,cAA+B,qBAAKK,MAAM,OAAOC,OAAO,OAAOC,IAAKJ,EAAKK,IAAKC,IAAI,wBACtF,sBAAKT,UAAU,aAAf,UACI,qBAAMA,UAAU,kBAAhB,SAAkC,6BAAKG,EAAKO,SAE5C,qBAAMV,UAAU,mBAAhB,SAAmC,yCAAY,IAAIG,EAAKQ,YAMxD,qBAAMX,UAAU,iBAAhB,SAAkCY,YAAOT,EAAKU,iBAvB1D,qBAAKb,UAAU,yDAAf,SACI,qBAAKA,UAAU,8BAA8Bc,KAAK,SAAlD,SACI,sBAAMd,UAAU,oB,yICnC1Be,EAAYC,YAAO,eAAgB,EAAG,CAC1CC,QAD0C,SAClCC,GACNA,EAAGC,kBAAkB,aAIlB,SAAetB,EAAtB,kC,4CAAO,WAAmBuB,GAAnB,SAAAC,EAAA,sEACSN,EADT,uCACoBlB,IAAI,SAAUuB,IADlC,4C,sBAGA,SAAe5B,EAAtB,oC,4CAAO,WAAmB4B,EAAKE,GAAxB,SAAAD,EAAA,sEACSN,EADT,uCACoBQ,IAAI,SAAUD,EAAKF,IADvC,4C","file":"static/js/11.8fa2c21e.chunk.js","sourcesContent":["import axios from 'axios'\r\nexport default axios.create({\r\n    baseURL:\"http://localhost:5000\"\r\n    //http://localhost:5000\r\n    //https://ffggserver.vercel.app\r\n})","import React, {useState} from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport axios from \"./axiosWithBaseURL\";\r\nimport Parser from 'html-react-parser';\r\nimport \"./BlogPost.css\"\r\nimport \"./style.css\"\r\nimport { set, get } from './myidb';\r\nimport { openDB } from 'idb';\r\n\r\nfunction BlogPost() \r\n{\r\n    const [items, setItems] = useState([])\r\n    const {id} = useParams();\r\n    React.useEffect(() => {\r\n        axios.post('/blogpost', {blogid : id})\r\n        .then(res => { \r\n          setItems(res.data);\r\n            // openDB(id, 1, {\r\n            // upgrade(db) {\r\n            //     const dbPromise = db.createObjectStore(id);\r\n            //     dbPromise.put(JSON.stringify(res.data),id,id)\r\n            // },\r\n            // });\r\n            set(id,JSON.stringify(res.data));\r\n\r\n            })\r\n            .catch(err =>{\r\n            get(id).then((data) => {\r\n                var x = JSON.parse(data)\r\n                setItems(x)\r\n                });\r\n            })\r\n    }, [])\r\n\r\n    const renderLoader = () => (\r\n        <div className=\"loader d-flex justify-content-center spinner-container\">\r\n            <div className=\"spinner-border text-warning\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n    <div className=\"blogpost\">\r\n        {items.length > 0 ? (items.map((item, index) => {\r\n            return (\r\n                \r\n                <div className=\"\">     \r\n                    <div className = \"responsive\"> <img width=\"100%\" height=\"100%\" src={item.img} alt=\"Responsive image\"/></div>\r\n                <div className=\"blog__text\">    \r\n                    <div  className=\"blogpost__title\"><h2>{item.name}</h2></div>\r\n                    \r\n                    <div  className=\"blogpost__auther\"><h6>Auther:{\" \"+item.auther}</h6>\r\n                    {/* <button className=\"blogpost__followbtn\">\r\n                        FOLLOW\r\n                    </button> */}\r\n                    </div>\r\n                    \r\n                    <div  className=\"blogpost__blog\">{Parser(item.body)}</div>\r\n                </div>\r\n                </div>\r\n            );\r\n        })) :  renderLoader()}\r\n    </div>\r\n    )\r\n}\r\nexport default BlogPost","import { openDB } from 'idb';\r\n\r\nconst dbPromise = openDB('keyval-store', 1, {\r\n  upgrade(db) {\r\n    db.createObjectStore('keyval');\r\n  },\r\n});\r\n\r\nexport async function get(key) {\r\n  return (await dbPromise).get('keyval', key);\r\n}\r\nexport async function set(key, val) {\r\n  return (await dbPromise).put('keyval', val, key);\r\n}\r\nexport async function del(key) {\r\n  return (await dbPromise).delete('keyval', key);\r\n}\r\nexport async function clear() {\r\n  return (await dbPromise).clear('keyval');\r\n}\r\nexport async function keys() {\r\n  return (await dbPromise).getAllKeys('keyval');\r\n}"],"sourceRoot":""}